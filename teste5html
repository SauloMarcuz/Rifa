<!DOCTYPE html>
<html>
<head>
  <title>Chá Rifa da Ísis</title>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <h1 class="title">Chá Rifa da Ísis</h1>
  <img src="https://github.com/SauloMarcuz/rifa-isis/raw/Saulo/Rifa.jpeg" alt="">
  <div class="prize-info">
    <p class="prize-text">Prêmio: R$150,00</p>
    <p class="prize-text">Do número 1 ao 35: Pacote de fralda tamanho P</p>
    <p class="prize-text">Do número 36 ao 70: Pacote de fralda tamanho M</p>
    <p class="prize-text">Do número 71 ao 100: Pacote de fralda tamanho G</p>
  </div>
  <div class="instructions">
    <p class="instructions-text">Instruções:</p>
    <ol class="instructions-list">
      <li>Escolha um número de 1 a 100</li>
      <li>Verifique se o número escolhido está disponível</li>
      <li>Cada número corresponde a um pacote de fralda ou a um PIX no valor de R$30,00 - Chave PIX (15) 99822-5420</li>
      <li>Combine a entrega do pacote de fralda</li>
    </ol>
  </div>
  <div class="raffle-board">
    <div class="numbers-container">
      <!-- Números gerados dinamicamente -->
    </div>
  </div>
  <div class="participant-form">
    <label for="name" class="form-label">Nome Completo:</label>
    <input type="text" id="name" class="form-input">
    <button onclick="confirmRaffleForm()" class="form-button">Confirmar</button>
  </div>

  <h2>Pessoas e Números Selecionados:</h2>
  <ul id="selected-list"></ul>

  <script src="scripts.js"></script>
  <script>
    var selectedNumbers = [];
    var selectedNames = [];

    function generateNumbers() {
      var numbersContainer = document.querySelector('.numbers-container');

      for (var i = 1; i <= 100; i++) {
        var numberDiv = document.createElement('div');
        numberDiv.setAttribute('class', 'number');
        numberDiv.setAttribute('id', i);
        numberDiv.setAttribute('onclick', 'toggleSelected(' + i + ')');
        numberDiv.innerText = i;

        if (selectedNumbers.includes(i.toString())) {
          numberDiv.classList.add('selected');
          numberDiv.setAttribute('onclick', '');
        }

        numbersContainer.appendChild(numberDiv);
      }
    }

    function toggleSelected(number) {
      var element = document.getElementById(number);
      if (element.classList.contains('selected')) {
        element.classList.remove('selected');
        selectedNumbers = selectedNumbers.filter(num => num !== number.toString());
      } else {
        element.classList.add('selected');
        selectedNumbers.push(number.toString());
      }
    }

    function confirmRaffleForm() {
      var name = document.getElementById('name').value;

      if (name === '') {
        alert('Por favor, digite seu nome completo.');
        return;
      }

      if (selectedNumbers.length === 0) {
        alert('Por favor, escolha pelo menos um número.');
        return;
      }

      var selectedList = document.getElementById('selected-list');
      var listItem = document.createElement('li');
      listItem.innerText = name + ': ' + selectedNumbers.join(', ');
      selectedList.appendChild(listItem);

      selectedNumbers.forEach(number => {
        var element = document.getElementById(number);
        element.classList.add('selected');
        element.setAttribute('onclick', '');
      });

      selectedNames.push(name);
      selectedNumbers = [];

      document.getElementById('name').value = '';
    }

    generateNumbers();
  </script>
</body>
</html>
